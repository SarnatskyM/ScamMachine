import{s as I,n as h,x as H,b as W,r as P,o as A,y as F}from"../chunks/scheduler.BAGsd5QC.js";import{S as E,i as G,e as g,c as v,y as B,o as $,j as D,z,g as p,b as S,d as k,f as y,k as d,l as j,s as x,h as V,u as T,v as U,w as L,t as M,a as N,x as O}from"../chunks/index.Cx76x3Ec.js";import{w as K}from"../chunks/index.tCvgm-Mp.js";function Q(t){let e,n='<img class="coin" src="./images/coin.png" alt="coin"/>',a,o;return{c(){e=g("div"),e.innerHTML=n,this.h()},l(s){e=v(s,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-1a577u7"&&(e.innerHTML=n),this.h()},h(){$(e,"class","container")},m(s,r){D(s,e,r),a||(o=z(e,"click",t[0]),a=!0)},p:h,i:h,o:h,d(s){s&&p(e),a=!1,o()}}}function R(t){function e(n){H.call(this,t,n)}return[e]}class X extends E{constructor(e){super(),G(this,e,R,Q,I,{})}}const q={coins:0,clickValue:1,upgradeCost:10},C=K(q);function Y(){const t=localStorage.getItem("gameState");t?C.set(JSON.parse(t)):C.set(q)}function J(){C.subscribe(t=>{localStorage.setItem("gameState",JSON.stringify(t))})}function Z(){C.update(t=>({...t,coins:t.coins+t.clickValue}))}function ee(){C.update(t=>t.coins>=t.upgradeCost?{...t,coins:t.coins-t.upgradeCost,clickValue:t.clickValue+1,upgradeCost:Math.floor(t.upgradeCost*1.5)}:t)}function te(t){let e,n,a=t[0].coins+"",o;return{c(){e=g("div"),n=g("div"),o=S(a),this.h()},l(s){e=v(s,"DIV",{class:!0});var r=k(e);n=v(r,"DIV",{class:!0});var c=k(n);o=y(c,a),c.forEach(p),r.forEach(p),this.h()},h(){$(n,"class","score svelte-1dolkef"),$(e,"class","score-container svelte-1dolkef")},m(s,r){D(s,e,r),d(e,n),d(n,o)},p(s,[r]){r&1&&a!==(a=s[0].coins+"")&&j(o,a)},i:h,o:h,d(s){s&&p(e)}}}function ne(t,e,n){let a;return W(t,C,o=>n(0,a=o)),[a]}class se extends E{constructor(e){super(),G(this,e,ne,te,I,{})}}function ae(t){let e,n,a,o=t[0].upgradeCost+"",s,r,c,_,i,b="Withdraw",l,u;return{c(){e=g("div"),n=g("button"),a=S("Upgrade (Cost: "),s=S(o),r=S(")"),_=x(),i=g("button"),i.textContent=b,this.h()},l(f){e=v(f,"DIV",{class:!0});var m=k(e);n=v(m,"BUTTON",{class:!0});var w=k(n);a=y(w,"Upgrade (Cost: "),s=y(w,o),r=y(w,")"),w.forEach(p),_=V(m),i=v(m,"BUTTON",{class:!0,"data-svelte-h":!0}),B(i)!=="svelte-17ibw0m"&&(i.textContent=b),m.forEach(p),this.h()},h(){$(n,"class","upgrade-button svelte-1ryuld8"),n.disabled=c=t[0].coins<t[0].upgradeCost,$(i,"class","upgrade-button svelte-1ryuld8"),i.disabled=!0,$(e,"class","upgrade svelte-1ryuld8")},m(f,m){D(f,e,m),d(e,n),d(n,a),d(n,s),d(n,r),d(e,_),d(e,i),l||(u=[z(n,"click",t[2]),z(i,"click",t[1])],l=!0)},p(f,[m]){m&1&&o!==(o=f[0].upgradeCost+"")&&j(s,o),m&1&&c!==(c=f[0].coins<f[0].upgradeCost)&&(n.disabled=c)},i:h,o:h,d(f){f&&p(e),l=!1,P(u)}}}function re(t,e,n){let a;W(t,C,r=>n(0,a=r));function o(r){H.call(this,t,r)}function s(r){H.call(this,t,r)}return[a,o,s]}class oe extends E{constructor(e){super(),G(this,e,re,ae,I,{})}}function ie(t){let e,n,a="Welcome to the Scum Game!",o,s,r,c,_,i,b;return s=new se({}),c=new X({}),c.$on("click",Z),i=new oe({}),i.$on("click",ee),{c(){e=g("div"),n=g("h1"),n.textContent=a,o=x(),T(s.$$.fragment),r=x(),T(c.$$.fragment),_=x(),T(i.$$.fragment),this.h()},l(l){e=v(l,"DIV",{class:!0});var u=k(e);n=v(u,"H1",{class:!0,"data-svelte-h":!0}),B(n)!=="svelte-12hilyi"&&(n.textContent=a),o=V(u),U(s.$$.fragment,u),r=V(u),U(c.$$.fragment,u),_=V(u),U(i.$$.fragment,u),u.forEach(p),this.h()},h(){$(n,"class","title"),$(e,"class","wrapper")},m(l,u){D(l,e,u),d(e,n),d(e,o),L(s,e,null),d(e,r),L(c,e,null),d(e,_),L(i,e,null),b=!0},p:h,i(l){b||(M(s.$$.fragment,l),M(c.$$.fragment,l),M(i.$$.fragment,l),b=!0)},o(l){N(s.$$.fragment,l),N(c.$$.fragment,l),N(i.$$.fragment,l),b=!1},d(l){l&&p(e),O(s),O(c),O(i)}}}function le(t){return A(()=>{Y(),window.addEventListener("beforeunload",J)}),F(()=>{typeof window<"u"&&window.removeEventListener("beforeunload",J)}),[]}class fe extends E{constructor(e){super(),G(this,e,le,ie,I,{})}}export{fe as component};
